<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>TimeDiffCalc</title>
    <link rel="stylesheet" href="style.css" />
    <p><h2>This App helps you calculate time difference in 24 hour format for 24hrs timestamp irrespective of date</h2></p>
</head>
<body>
<form action="rest/diffcalc/calculate" method="get" onsubmit="validation()" name="vform">
    Enter Initial Hours:
    <div id="hour1_div">
        <input type="text" name="hour1" id="hour1" required=""/><br/><br/>
        <div id="hour1_Validation_error"></div>
    </div>
    Enter Initial Mins:
    <div id="min1_div">
        <input type="text" name="min1" id="min1" required=""/><br/><br/>
        <div id="min1_Validation_error"></div>
    </div>
    Enter Final Hours:
    <div id="hour2_div">
        <input type="text" name="hour2" id="hour2" required=""/><br/><br/>
        <div id="hour2_Validation_error"></div>
    </div>
    Enter Final Mins:
    <div id="min2_div">
        <input type="text" name="min2" id="min2" required=""/><br/><br/>
        <div id="min2_Validation_error"></div>
    </div>

    <div>
        <input type="submit" name="submit" value="Get The Difference"/>
    </div>
</form>


<script>

    // SELECTING ALL TEXT ELEMENTS
    var hour1 = document.forms['vform']['hour1'];
    var min1 = document.forms['vform']['min1'];
    var hour2 = document.forms['vform']['hour2'];
    var min2 = document.forms['vform']['min2'];

    // SELECTING ALL ERROR DISPLAY ELEMENTS
    var hour1_Validation_error = document.getElementById('hour1_Validation_error');
    var min1_Validation_error = document.getElementById('min1_Validation_error');
    var hour2_Validation_error = document.getElementById('hour2_Validation_error');
    var min2_Validation_error = document.getElementById('min2_Validation_error')


    // SETTING ALL EVENT LISTENERS
    hour1.addEventListener('blur', hour1Verify, true);
    min1.addEventListener('blur', min1Verify, true);
    hour2.addEventListener('blur', hour2Verify, true);
    min2.addEventListener('blur',min2Verify, true);



    // event handler functions
    function hour1Verify() {
        if (hour1.value != "") {
            hour1.style.border = "1px solid #5e6e66";
            document.getElementById('hour1_div').style.color = "#5e6e66";
            hour1_Validation_error.innerHTML = "";
        }
        if(hour1.value > 23 || hour1.value < 0 || hour1.value ===''){
            hour1.style.border = "1px solid red";
            document.getElementById('hour1_div').style.color = "red";
            hour1_Validation_error.textContent = "Give the Hour in 24 hour Format";
            return false;
        }
        else {
            return true;
        }
    }
    function min1Verify() {
        if (min1.value != "") {
            min1.style.border = "1px solid #5e6e66";
            document.getElementById('min1_div').style.color = "#5e6e66";
            min1_Validation_error.innerHTML = "";
        }
        if((min1.value > 60 && min1.value < 0 )|| min1.value ===''){
            min1.style.border = "1px solid red";
            document.getElementById('min1_div').style.color = "red";
            min1_Validation_error.textContent = "Give the min in the correct format";
            return false;
        }
        else {
            return true;
        }
    }
    function hour2Verify() {
        if (hour2.value != "") {
            hour2.style.border = "1px solid #5e6e66";
            document.getElementById('hour2_div').style.color = "#5e6e66";
            hour2_Validation_error.innerHTML = "";
        }
        if(hour2.value > 23 || hour2.value < 0 || hour2.value ===''){
            hour2.style.border = "1px solid red";
            document.getElementById('hour2_div').style.color = "red";
            hour2_Validation_error.textContent = "Give the Hour in 24 hour Format";
            return false;
        }
        else {
            return true;
        }
    }
    function min2Verify() {
        if (min2.value != "") {
            min2.style.border = "1px solid #5e6e66";
            document.getElementById('min2_div').style.color = "#5e6e66";
            min2_Validation_error.innerHTML = "";

        }
        if((min2.value > 60 && min2.value < 0 )|| min2.value ===''){
            min2.style.border = "1px solid red";
            document.getElementById('min2_div').style.color = "red";
            min2_Validation_error.textContent = "Give the min in the correct format";
            return false;
        }
        else {
            return true;
        }
    }
    function validation(vform) {

        if(!confirm("Please re-check the inputs,Do you really want to submit the form?")){
            return false;
        }
        vform.submit();
    }


</script>

</body>

</html>